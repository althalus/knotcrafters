{% extends 'base.html' %}
{% block page_title %}{% if object %}{{ object.name }}{% else %}Add New Knot{% endif %}{% endblock %}

{% block content %}
<form class="form-horizontal" action="." method="POST" enctype="multipart/form-data">
    {% csrf_token %}
{% include '_form.html' with form=form request=request only %}
{% for formset in formsets %}
{{ formset.non_form_errors.as_ul }}
<table class="table table-striped table-bordered table-hover">
    {% for formset_form in formset.forms %}
    {% if forloop.first %}
    <thead>
        <tr>
            {% for field in formset_form.visible_fields %}
            <th>{{ field.label|capfirst }}</th>
            {% endfor %}
        </tr>
    </thead>
    <tbody>
    {% endif %}
    <tr class="form-horizontal {% cycle row1,row2 %}">
        {% for field in formset_form.visible_fields %}
        <td>
            {# include hidden fields #}
            {% if forloop.first %}
            {% for hidden in formset_form.hidden_fields %}
            {{ hidden}}
            {% endfor %}
            {% endif %}
            {{ field.errors.as_ul}}
            {{ field }}
        </td>
        {% endfor %}
    </tr>
    {% endfor %}
    </tbody>
</table>
{{ formset.management_form}}
{% endfor %}
<button type="submit">Add</button>
</form>
{% endblock %}
